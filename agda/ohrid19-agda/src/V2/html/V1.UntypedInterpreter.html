<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>V2.UntypedInterpreter</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- Untyped interpreter for the WHILE language.</a>
<a id="48" class="Comment">--</a>
<a id="51" class="Comment">-- * Runs directly on the unchecked abstract syntax tree.</a>
<a id="109" class="Comment">-- * May fail due to scope and other runtime errors.</a>
<a id="162" class="Comment">-- * while loops may not terminate.</a>

<a id="199" class="Keyword">module</a> <a id="206" href="V2.UntypedInterpreter.html" class="Module">V2.UntypedInterpreter</a> <a id="228" class="Keyword">where</a>

<a id="235" class="Keyword">open</a> <a id="240" class="Keyword">import</a> <a id="247" href="Library.html" class="Module">Library</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="V2.AST.html" class="Module">V2.AST</a>

<a id="275" class="Comment">-- Untyped values.</a>

<a id="295" class="Keyword">data</a> <a id="Val"></a><a id="300" href="V2.UntypedInterpreter.html#300" class="Datatype">Val</a> <a id="304" class="Symbol">:</a> <a id="306" class="PrimitiveType">Set</a> <a id="310" class="Keyword">where</a>
  <a id="Val.intV"></a><a id="318" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a>  <a id="324" class="Symbol">:</a> <a id="326" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a>       <a id="334" class="Symbol">→</a> <a id="336" href="V2.UntypedInterpreter.html#300" class="Datatype">Val</a>
  <a id="Val.boolV"></a><a id="342" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="348" class="Symbol">:</a> <a id="350" href="V2.AST.html#474" class="Datatype">Boolean</a> <a id="358" class="Symbol">→</a> <a id="360" href="V2.UntypedInterpreter.html#300" class="Datatype">Val</a>

<a id="365" class="Keyword">instance</a>
  <a id="PrintVal"></a><a id="376" href="V2.UntypedInterpreter.html#376" class="Function">PrintVal</a> <a id="385" class="Symbol">:</a> <a id="387" href="Library.Print.html#196" class="Record">Print</a> <a id="393" href="V2.UntypedInterpreter.html#300" class="Datatype">Val</a>
  <a id="399" href="Library.Print.html#244" class="Field">print</a> <a id="405" class="Symbol">{{</a><a id="407" href="V2.UntypedInterpreter.html#376" class="Function">PrintVal</a><a id="415" class="Symbol">}}</a> <a id="418" class="Symbol">=</a> <a id="420" class="Symbol">λ</a> <a id="422" class="Keyword">where</a>
    <a id="432" class="Symbol">(</a><a id="433" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a> <a id="438" href="V2.UntypedInterpreter.html#438" class="Bound">i</a><a id="439" class="Symbol">)</a>  <a id="442" class="Symbol">→</a> <a id="444" href="Library.Print.html#244" class="Field">print</a> <a id="450" href="V2.UntypedInterpreter.html#438" class="Bound">i</a>
    <a id="456" class="Symbol">(</a><a id="457" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="463" href="V2.UntypedInterpreter.html#463" class="Bound">b</a><a id="464" class="Symbol">)</a> <a id="466" class="Symbol">→</a> <a id="468" href="Library.Print.html#244" class="Field">print</a> <a id="474" href="V2.UntypedInterpreter.html#463" class="Bound">b</a>

<a id="477" class="Comment">-- Poor man&#39;s environments (association list).</a>

<a id="Env"></a><a id="525" href="V2.UntypedInterpreter.html#525" class="Function">Env</a> <a id="529" class="Symbol">:</a> <a id="531" class="PrimitiveType">Set</a>
<a id="535" href="V2.UntypedInterpreter.html#525" class="Function">Env</a> <a id="539" class="Symbol">=</a> <a id="541" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="546" class="Symbol">(</a><a id="547" href="V2.AST.html#282" class="Datatype">Id</a> <a id="550" href="Data.Product.html#1162" class="Function Operator">×</a> <a id="552" href="V2.UntypedInterpreter.html#300" class="Datatype">Val</a><a id="555" class="Symbol">)</a>

<a id="558" class="Comment">-- Looking up the value bound to a variable in an environment.</a>

<a id="lookupId"></a><a id="622" href="V2.UntypedInterpreter.html#622" class="Function">lookupId</a> <a id="631" class="Symbol">:</a> <a id="633" href="V2.UntypedInterpreter.html#525" class="Function">Env</a> <a id="637" class="Symbol">→</a> <a id="639" href="V2.AST.html#282" class="Datatype">Id</a> <a id="642" class="Symbol">→</a> <a id="644" href="Data.Maybe.Base.html#795" class="Datatype">Maybe</a> <a id="650" href="V2.UntypedInterpreter.html#300" class="Datatype">Val</a>
<a id="654" href="V2.UntypedInterpreter.html#622" class="Function">lookupId</a> <a id="663" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>             <a id="678" href="V2.UntypedInterpreter.html#678" class="Bound">y</a> <a id="680" class="Symbol">=</a> <a id="682" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>
<a id="690" href="V2.UntypedInterpreter.html#622" class="Function">lookupId</a> <a id="699" class="Symbol">((</a><a id="701" href="V2.UntypedInterpreter.html#701" class="Bound">x</a> <a id="703" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="705" href="V2.UntypedInterpreter.html#705" class="Bound">v</a><a id="706" class="Symbol">)</a> <a id="708" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="710" href="V2.UntypedInterpreter.html#710" class="Bound">xs</a><a id="712" class="Symbol">)</a> <a id="714" href="V2.UntypedInterpreter.html#714" class="Bound">y</a> <a id="716" class="Symbol">=</a>
  <a id="720" href="Data.Bool.Base.html#1312" class="Function Operator">if</a> <a id="723" href="V2.UntypedInterpreter.html#701" class="Bound">x</a> <a id="725" href="Library.Eq.html#660" class="Function Operator">==</a> <a id="728" href="V2.UntypedInterpreter.html#714" class="Bound">y</a>
  <a id="732" href="Data.Bool.Base.html#1312" class="Function Operator">then</a> <a id="737" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="742" href="V2.UntypedInterpreter.html#705" class="Bound">v</a>
  <a id="746" href="Data.Bool.Base.html#1312" class="Function Operator">else</a> <a id="751" href="V2.UntypedInterpreter.html#622" class="Function">lookupId</a> <a id="760" href="V2.UntypedInterpreter.html#710" class="Bound">xs</a> <a id="763" href="V2.UntypedInterpreter.html#714" class="Bound">y</a>

<a id="766" class="Comment">-- Adding or updating a binding in the environment.</a>

<a id="updateEnv"></a><a id="819" href="V2.UntypedInterpreter.html#819" class="Function">updateEnv</a> <a id="829" class="Symbol">:</a> <a id="831" href="V2.AST.html#282" class="Datatype">Id</a> <a id="834" class="Symbol">→</a> <a id="836" href="V2.UntypedInterpreter.html#300" class="Datatype">Val</a> <a id="840" class="Symbol">→</a> <a id="842" href="V2.UntypedInterpreter.html#525" class="Function">Env</a> <a id="846" class="Symbol">→</a> <a id="848" href="V2.UntypedInterpreter.html#525" class="Function">Env</a>
<a id="852" href="V2.UntypedInterpreter.html#819" class="Function">updateEnv</a> <a id="862" href="V2.UntypedInterpreter.html#862" class="Bound">x</a> <a id="864" href="V2.UntypedInterpreter.html#864" class="Bound">v</a> <a id="866" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>            <a id="880" class="Symbol">=</a> <a id="882" class="Symbol">(</a><a id="883" href="V2.UntypedInterpreter.html#862" class="Bound">x</a> <a id="885" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="887" href="V2.UntypedInterpreter.html#864" class="Bound">v</a><a id="888" class="Symbol">)</a> <a id="890" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="892" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
<a id="895" href="V2.UntypedInterpreter.html#819" class="Function">updateEnv</a> <a id="905" href="V2.UntypedInterpreter.html#905" class="Bound">x</a> <a id="907" href="V2.UntypedInterpreter.html#907" class="Bound">v</a> <a id="909" class="Symbol">((</a><a id="911" href="V2.UntypedInterpreter.html#911" class="Bound">y</a> <a id="913" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="915" href="V2.UntypedInterpreter.html#915" class="Bound">w</a><a id="916" class="Symbol">)</a> <a id="918" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="920" href="V2.UntypedInterpreter.html#920" class="Bound">ρ</a><a id="921" class="Symbol">)</a> <a id="923" class="Symbol">=</a>
  <a id="927" href="Data.Bool.Base.html#1312" class="Function Operator">if</a> <a id="930" href="V2.UntypedInterpreter.html#905" class="Bound">x</a> <a id="932" href="Library.Eq.html#660" class="Function Operator">==</a> <a id="935" href="V2.UntypedInterpreter.html#911" class="Bound">y</a>
  <a id="939" href="Data.Bool.Base.html#1312" class="Function Operator">then</a> <a id="944" class="Symbol">(</a><a id="945" href="V2.UntypedInterpreter.html#905" class="Bound">x</a> <a id="947" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="949" href="V2.UntypedInterpreter.html#907" class="Bound">v</a><a id="950" class="Symbol">)</a> <a id="952" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="954" href="V2.UntypedInterpreter.html#920" class="Bound">ρ</a>
  <a id="958" href="Data.Bool.Base.html#1312" class="Function Operator">else</a> <a id="963" class="Symbol">(</a><a id="964" href="V2.UntypedInterpreter.html#911" class="Bound">y</a> <a id="966" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="968" href="V2.UntypedInterpreter.html#915" class="Bound">w</a><a id="969" class="Symbol">)</a> <a id="971" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="973" href="V2.UntypedInterpreter.html#819" class="Function">updateEnv</a> <a id="983" href="V2.UntypedInterpreter.html#905" class="Bound">x</a> <a id="985" href="V2.UntypedInterpreter.html#907" class="Bound">v</a> <a id="987" href="V2.UntypedInterpreter.html#920" class="Bound">ρ</a>

<a id="990" class="Comment">-- -- Poor man&#39;s version, keeps history of bindings.</a>
<a id="1043" class="Comment">-- updateEnv x v ρ = (x , v) ∷ ρ</a>
<a id="1076" class="Comment">-- updateEnv : Id → Val → Env → Env</a>

<a id="1113" class="Comment">-- Semantics of operations.</a>

<a id="1142" class="Comment">-- Boolean negation.</a>

<a id="bNot"></a><a id="1164" href="V2.UntypedInterpreter.html#1164" class="Function">bNot</a> <a id="1169" class="Symbol">:</a> <a id="1171" href="V2.AST.html#474" class="Datatype">Boolean</a> <a id="1179" class="Symbol">→</a> <a id="1181" href="V2.AST.html#474" class="Datatype">Boolean</a>
<a id="1189" href="V2.UntypedInterpreter.html#1164" class="Function">bNot</a> <a id="1194" href="V2.AST.html#496" class="InductiveConstructor">true</a> <a id="1199" class="Symbol">=</a> <a id="1201" href="V2.AST.html#501" class="InductiveConstructor">false</a>
<a id="1207" href="V2.UntypedInterpreter.html#1164" class="Function">bNot</a> <a id="1212" href="V2.AST.html#501" class="InductiveConstructor">false</a> <a id="1218" class="Symbol">=</a> <a id="1220" href="V2.AST.html#496" class="InductiveConstructor">true</a>

<a id="1226" class="Comment">-- Boolean conjunction.</a>

<a id="bAnd"></a><a id="1251" href="V2.UntypedInterpreter.html#1251" class="Function">bAnd</a> <a id="1256" class="Symbol">:</a> <a id="1258" href="V2.AST.html#474" class="Datatype">Boolean</a> <a id="1266" class="Symbol">→</a> <a id="1268" href="V2.AST.html#474" class="Datatype">Boolean</a> <a id="1276" class="Symbol">→</a> <a id="1278" href="V2.AST.html#474" class="Datatype">Boolean</a>
<a id="1286" href="V2.UntypedInterpreter.html#1251" class="Function">bAnd</a> <a id="1291" href="V2.AST.html#496" class="InductiveConstructor">true</a>  <a id="1297" href="V2.UntypedInterpreter.html#1297" class="Bound">b</a> <a id="1299" class="Symbol">=</a> <a id="1301" href="V2.UntypedInterpreter.html#1297" class="Bound">b</a>
<a id="1303" href="V2.UntypedInterpreter.html#1251" class="Function">bAnd</a> <a id="1308" href="V2.AST.html#501" class="InductiveConstructor">false</a> <a id="1314" class="Symbol">_</a> <a id="1316" class="Symbol">=</a> <a id="1318" href="V2.AST.html#501" class="InductiveConstructor">false</a>

<a id="1325" class="Comment">-- Greater-than on integers.</a>

<a id="iGt"></a><a id="1355" href="V2.UntypedInterpreter.html#1355" class="Function">iGt</a> <a id="1359" class="Symbol">:</a> <a id="1361" class="Symbol">(</a><a id="1362" href="V2.UntypedInterpreter.html#1362" class="Bound">i</a> <a id="1364" href="V2.UntypedInterpreter.html#1364" class="Bound">j</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a><a id="1369" class="Symbol">)</a> <a id="1371" class="Symbol">→</a> <a id="1373" href="V2.AST.html#474" class="Datatype">Boolean</a>
<a id="1381" href="V2.UntypedInterpreter.html#1355" class="Function">iGt</a> <a id="1385" href="V2.UntypedInterpreter.html#1385" class="Bound">i</a> <a id="1387" href="V2.UntypedInterpreter.html#1387" class="Bound">j</a> <a id="1389" class="Symbol">=</a> <a id="1391" href="Function.html#3662" class="Function Operator">case</a> <a id="1396" href="V2.UntypedInterpreter.html#1385" class="Bound">i</a> <a id="1398" href="Library.html#2352" class="Function Operator">Integer.&lt;=</a> <a id="1409" href="V2.UntypedInterpreter.html#1387" class="Bound">j</a> <a id="1411" href="Function.html#3662" class="Function Operator">of</a> <a id="1414" class="Symbol">λ</a> <a id="1416" class="Keyword">where</a>
  <a id="1424" href="Agda.Builtin.Bool.html#154" class="InductiveConstructor">false</a> <a id="1430" class="Symbol">→</a> <a id="1432" href="V2.AST.html#496" class="InductiveConstructor">true</a>
  <a id="1439" href="Agda.Builtin.Bool.html#160" class="InductiveConstructor">true</a>  <a id="1445" class="Symbol">→</a> <a id="1447" href="V2.AST.html#501" class="InductiveConstructor">false</a>

<a id="1454" class="Comment">-- Evaluation of expressions.  The environment is fixed.</a>

<a id="1512" class="Keyword">module</a> <a id="EvalExp"></a><a id="1519" href="V2.UntypedInterpreter.html#1519" class="Module">EvalExp</a> <a id="1527" class="Symbol">(</a><a id="1528" href="V2.UntypedInterpreter.html#1528" class="Bound">ρ</a> <a id="1530" class="Symbol">:</a> <a id="1532" href="V2.UntypedInterpreter.html#525" class="Function">Env</a><a id="1535" class="Symbol">)</a> <a id="1537" class="Keyword">where</a>

  <a id="1546" class="Comment">-- Evaluation may fail due to scope or type errors, thus eval is partial.</a>
  <a id="1622" class="Comment">-- E.g. eval (eNot (eInt zero)) ≡ nothing.</a>

  <a id="EvalExp.eval"></a><a id="1668" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1673" class="Symbol">:</a> <a id="1675" href="V2.AST.html#584" class="Datatype">Exp</a> <a id="1679" class="Symbol">→</a> <a id="1681" href="Data.Maybe.Base.html#795" class="Datatype">Maybe</a> <a id="1687" href="V2.UntypedInterpreter.html#300" class="Datatype">Val</a>
  <a id="1693" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1698" class="Symbol">(</a><a id="1699" href="V2.AST.html#602" class="InductiveConstructor">eId</a> <a id="1703" href="V2.UntypedInterpreter.html#1703" class="Bound">x</a><a id="1704" class="Symbol">)</a>   <a id="1708" class="Symbol">=</a> <a id="1710" href="V2.UntypedInterpreter.html#622" class="Function">lookupId</a> <a id="1719" href="V2.UntypedInterpreter.html#1528" class="Bound">ρ</a> <a id="1721" href="V2.UntypedInterpreter.html#1703" class="Bound">x</a>
  <a id="1725" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1730" class="Symbol">(</a><a id="1731" href="V2.AST.html#647" class="InductiveConstructor">eInt</a> <a id="1736" href="V2.UntypedInterpreter.html#1736" class="Bound">i</a><a id="1737" class="Symbol">)</a>  <a id="1740" class="Symbol">=</a> <a id="1742" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="1747" class="Symbol">(</a><a id="1748" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a> <a id="1753" href="V2.UntypedInterpreter.html#1736" class="Bound">i</a><a id="1754" class="Symbol">)</a>
  <a id="1758" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1763" class="Symbol">(</a><a id="1764" href="V2.AST.html#692" class="InductiveConstructor">eBool</a> <a id="1770" href="V2.UntypedInterpreter.html#1770" class="Bound">b</a><a id="1771" class="Symbol">)</a> <a id="1773" class="Symbol">=</a> <a id="1775" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="1780" class="Symbol">(</a><a id="1781" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="1787" href="V2.UntypedInterpreter.html#1770" class="Bound">b</a><a id="1788" class="Symbol">)</a>
  <a id="1792" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1797" class="Symbol">(</a><a id="1798" href="V2.AST.html#737" class="InductiveConstructor">ePlus</a> <a id="1804" href="V2.UntypedInterpreter.html#1804" class="Bound">e₁</a> <a id="1807" href="V2.UntypedInterpreter.html#1807" class="Bound">e₂</a><a id="1809" class="Symbol">)</a> <a id="1811" class="Symbol">=</a> <a id="1813" href="Function.html#3662" class="Function Operator">case</a> <a id="1818" class="Symbol">(</a><a id="1819" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1824" href="V2.UntypedInterpreter.html#1804" class="Bound">e₁</a> <a id="1827" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1829" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1834" href="V2.UntypedInterpreter.html#1807" class="Bound">e₂</a><a id="1836" class="Symbol">)</a> <a id="1838" href="Function.html#3662" class="Function Operator">of</a> <a id="1841" class="Symbol">λ</a> <a id="1843" class="Keyword">where</a>
    <a id="1853" class="Symbol">(</a><a id="1854" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="1859" class="Symbol">(</a><a id="1860" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a> <a id="1865" href="V2.UntypedInterpreter.html#1865" class="Bound">i</a><a id="1866" class="Symbol">)</a> <a id="1868" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1870" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="1875" class="Symbol">(</a><a id="1876" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a> <a id="1881" href="V2.UntypedInterpreter.html#1881" class="Bound">j</a><a id="1882" class="Symbol">))</a> <a id="1885" class="Symbol">→</a> <a id="1887" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="1892" class="Symbol">(</a><a id="1893" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a> <a id="1898" class="Symbol">(</a><a id="1899" href="V2.UntypedInterpreter.html#1865" class="Bound">i</a> <a id="1901" href="Data.Integer.Base.html#2950" class="Function Operator">+</a> <a id="1903" href="V2.UntypedInterpreter.html#1881" class="Bound">j</a><a id="1904" class="Symbol">))</a>
    <a id="1911" class="CatchallClause Symbol">_</a> <a id="1913" class="Symbol">→</a> <a id="1915" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>
  <a id="1925" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1930" class="Symbol">(</a><a id="1931" href="V2.AST.html#782" class="InductiveConstructor">eGt</a> <a id="1935" href="V2.UntypedInterpreter.html#1935" class="Bound">e₁</a> <a id="1938" href="V2.UntypedInterpreter.html#1938" class="Bound">e₂</a><a id="1940" class="Symbol">)</a> <a id="1942" class="Symbol">=</a> <a id="1944" href="Function.html#3662" class="Function Operator">case</a> <a id="1949" class="Symbol">(</a><a id="1950" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1955" href="V2.UntypedInterpreter.html#1935" class="Bound">e₁</a> <a id="1958" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="1960" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="1965" href="V2.UntypedInterpreter.html#1938" class="Bound">e₂</a><a id="1967" class="Symbol">)</a> <a id="1969" href="Function.html#3662" class="Function Operator">of</a> <a id="1972" class="Symbol">λ</a> <a id="1974" class="Keyword">where</a>
    <a id="1984" class="Symbol">(</a><a id="1985" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="1990" class="Symbol">(</a><a id="1991" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a> <a id="1996" href="V2.UntypedInterpreter.html#1996" class="Bound">i</a><a id="1997" class="Symbol">)</a> <a id="1999" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2001" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2006" class="Symbol">(</a><a id="2007" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a> <a id="2012" href="V2.UntypedInterpreter.html#2012" class="Bound">j</a><a id="2013" class="Symbol">))</a> <a id="2016" class="Symbol">→</a> <a id="2018" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2023" class="Symbol">(</a><a id="2024" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="2030" class="Symbol">(</a><a id="2031" href="V2.UntypedInterpreter.html#1355" class="Function">iGt</a> <a id="2035" href="V2.UntypedInterpreter.html#1996" class="Bound">i</a> <a id="2037" href="V2.UntypedInterpreter.html#2012" class="Bound">j</a><a id="2038" class="Symbol">))</a>
    <a id="2045" class="CatchallClause Symbol">_</a> <a id="2047" class="Symbol">→</a> <a id="2049" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>
  <a id="2059" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="2064" class="Symbol">(</a><a id="2065" href="V2.AST.html#827" class="InductiveConstructor">eAnd</a> <a id="2070" href="V2.UntypedInterpreter.html#2070" class="Bound">e₁</a> <a id="2073" href="V2.UntypedInterpreter.html#2073" class="Bound">e₂</a><a id="2075" class="Symbol">)</a> <a id="2077" class="Symbol">=</a> <a id="2079" href="Function.html#3662" class="Function Operator">case</a> <a id="2084" class="Symbol">(</a><a id="2085" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="2090" href="V2.UntypedInterpreter.html#2070" class="Bound">e₁</a> <a id="2093" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2095" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="2100" href="V2.UntypedInterpreter.html#2073" class="Bound">e₂</a><a id="2102" class="Symbol">)</a> <a id="2104" href="Function.html#3662" class="Function Operator">of</a> <a id="2107" class="Symbol">λ</a> <a id="2109" class="Keyword">where</a>
    <a id="2119" class="Symbol">(</a><a id="2120" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2125" class="Symbol">(</a><a id="2126" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="2132" href="V2.UntypedInterpreter.html#2132" class="Bound">b₁</a><a id="2134" class="Symbol">)</a> <a id="2136" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2138" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2143" class="Symbol">(</a><a id="2144" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="2150" href="V2.UntypedInterpreter.html#2150" class="Bound">b₂</a><a id="2152" class="Symbol">))</a> <a id="2155" class="Symbol">→</a> <a id="2157" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2162" class="Symbol">(</a><a id="2163" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="2169" class="Symbol">(</a><a id="2170" href="V2.UntypedInterpreter.html#1251" class="Function">bAnd</a> <a id="2175" href="V2.UntypedInterpreter.html#2132" class="Bound">b₁</a> <a id="2178" href="V2.UntypedInterpreter.html#2150" class="Bound">b₂</a><a id="2180" class="Symbol">))</a>
    <a id="2187" class="CatchallClause Symbol">_</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>

<a id="2200" class="Keyword">open</a> <a id="2205" href="V2.UntypedInterpreter.html#1519" class="Module">EvalExp</a>

<a id="2214" class="Comment">-- The execution of a declaration adds a new binding</a>
<a id="2267" class="Comment">-- to the environment.</a>

<a id="execDecl"></a><a id="2291" href="V2.UntypedInterpreter.html#2291" class="Function">execDecl</a> <a id="2300" class="Symbol">:</a> <a id="2302" href="V2.AST.html#973" class="Record">Decl</a> <a id="2307" class="Symbol">→</a> <a id="2309" href="V2.UntypedInterpreter.html#525" class="Function">Env</a> <a id="2313" class="Symbol">→</a> <a id="2315" href="Data.Maybe.Base.html#795" class="Datatype">Maybe</a> <a id="2321" href="V2.UntypedInterpreter.html#525" class="Function">Env</a>
<a id="2325" href="V2.UntypedInterpreter.html#2291" class="Function">execDecl</a> <a id="2334" class="Symbol">(</a><a id="2335" href="V2.AST.html#1004" class="InductiveConstructor">dInit</a> <a id="2341" href="V2.UntypedInterpreter.html#2341" class="Bound">t</a> <a id="2343" href="V2.UntypedInterpreter.html#2343" class="Bound">x</a> <a id="2345" href="V2.UntypedInterpreter.html#2345" class="Bound">e</a><a id="2346" class="Symbol">)</a> <a id="2348" href="V2.UntypedInterpreter.html#2348" class="Bound">ρ</a> <a id="2350" class="Symbol">=</a> <a id="2352" href="Function.html#3662" class="Function Operator">case</a> <a id="2357" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="2362" href="V2.UntypedInterpreter.html#2348" class="Bound">ρ</a> <a id="2364" href="V2.UntypedInterpreter.html#2345" class="Bound">e</a> <a id="2366" href="Function.html#3662" class="Function Operator">of</a> <a id="2369" class="Symbol">λ</a> <a id="2371" class="Keyword">where</a>
  <a id="2379" class="Symbol">(</a><a id="2380" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2385" href="V2.UntypedInterpreter.html#2385" class="Bound">v</a><a id="2386" class="Symbol">)</a> <a id="2388" class="Symbol">→</a> <a id="2390" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2395" class="Symbol">((</a><a id="2397" href="V2.UntypedInterpreter.html#2343" class="Bound">x</a> <a id="2399" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2401" href="V2.UntypedInterpreter.html#2385" class="Bound">v</a><a id="2402" class="Symbol">)</a> <a id="2404" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="2406" href="V2.UntypedInterpreter.html#2348" class="Bound">ρ</a><a id="2407" class="Symbol">)</a>
  <a id="2411" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>  <a id="2420" class="Symbol">→</a> <a id="2422" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>

<a id="2431" class="Comment">-- Execution of declarations returns the extended environment.</a>

<a id="execDecls"></a><a id="2495" href="V2.UntypedInterpreter.html#2495" class="Function">execDecls</a> <a id="2505" class="Symbol">:</a> <a id="2507" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="2512" href="V2.AST.html#973" class="Record">Decl</a> <a id="2517" class="Symbol">→</a> <a id="2519" href="V2.UntypedInterpreter.html#525" class="Function">Env</a> <a id="2523" class="Symbol">→</a> <a id="2525" href="Data.Maybe.Base.html#795" class="Datatype">Maybe</a> <a id="2531" href="V2.UntypedInterpreter.html#525" class="Function">Env</a>
<a id="2535" href="V2.UntypedInterpreter.html#2495" class="Function">execDecls</a> <a id="2545" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="2548" href="V2.UntypedInterpreter.html#2548" class="Bound">ρ</a> <a id="2550" class="Symbol">=</a> <a id="2552" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2557" href="V2.UntypedInterpreter.html#2548" class="Bound">ρ</a>
<a id="2559" href="V2.UntypedInterpreter.html#2495" class="Function">execDecls</a> <a id="2569" class="Symbol">(</a><a id="2570" href="V2.UntypedInterpreter.html#2570" class="Bound">d</a> <a id="2572" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="2574" href="V2.UntypedInterpreter.html#2574" class="Bound">ds</a><a id="2576" class="Symbol">)</a> <a id="2578" href="V2.UntypedInterpreter.html#2578" class="Bound">ρ</a> <a id="2580" class="Symbol">=</a> <a id="2582" href="Function.html#3662" class="Function Operator">case</a> <a id="2587" href="V2.UntypedInterpreter.html#2291" class="Function">execDecl</a> <a id="2596" href="V2.UntypedInterpreter.html#2570" class="Bound">d</a> <a id="2598" href="V2.UntypedInterpreter.html#2578" class="Bound">ρ</a> <a id="2600" href="Function.html#3662" class="Function Operator">of</a> <a id="2603" class="Symbol">λ</a> <a id="2605" class="Keyword">where</a>
  <a id="2613" class="Symbol">(</a><a id="2614" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="2619" href="V2.UntypedInterpreter.html#2619" class="Bound">ρ&#39;</a><a id="2621" class="Symbol">)</a> <a id="2623" class="Symbol">→</a> <a id="2625" href="V2.UntypedInterpreter.html#2495" class="Function">execDecls</a> <a id="2635" href="V2.UntypedInterpreter.html#2574" class="Bound">ds</a> <a id="2638" href="V2.UntypedInterpreter.html#2619" class="Bound">ρ&#39;</a>
  <a id="2643" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>   <a id="2653" class="Symbol">→</a> <a id="2655" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>

<a id="2664" class="Comment">-- Execution of statements can change values in the environment</a>
<a id="2728" class="Comment">-- and can diverge.</a>

<a id="2749" class="Keyword">module</a> <a id="ExecStm"></a><a id="2756" href="V2.UntypedInterpreter.html#2756" class="Module">ExecStm</a> <a id="2764" class="Keyword">where</a>

  <a id="2773" class="Comment">-- Execution is parameterized by a number (fuel : ℕ)</a>
  <a id="2828" class="Comment">-- that limits the number of executions of while loops.</a>
  <a id="2886" class="Comment">-- This is necessary to please Agda&#39;s termination checker.</a>

  <a id="2948" class="Keyword">mutual</a>

    <a id="ExecStm.execStm"></a><a id="2960" href="V2.UntypedInterpreter.html#2960" class="Function">execStm</a> <a id="2968" class="Symbol">:</a> <a id="2970" class="Symbol">(</a><a id="2971" href="V2.UntypedInterpreter.html#2971" class="Bound">fuel</a> <a id="2976" class="Symbol">:</a> <a id="2978" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="2979" class="Symbol">)</a> <a id="2981" class="Symbol">→</a> <a id="2983" href="V2.AST.html#1154" class="Datatype">Stm</a> <a id="2987" class="Symbol">→</a> <a id="2989" href="V2.UntypedInterpreter.html#525" class="Function">Env</a> <a id="2993" class="Symbol">→</a> <a id="2995" href="Data.Maybe.Base.html#795" class="Datatype">Maybe</a> <a id="3001" href="V2.UntypedInterpreter.html#525" class="Function">Env</a>

    <a id="3010" href="V2.UntypedInterpreter.html#2960" class="Function">execStm</a> <a id="3018" class="Symbol">_</a> <a id="3020" class="Symbol">(</a><a id="3021" href="V2.AST.html#1172" class="InductiveConstructor">sAss</a> <a id="3026" href="V2.UntypedInterpreter.html#3026" class="Bound">x</a> <a id="3028" href="V2.UntypedInterpreter.html#3028" class="Bound">e</a><a id="3029" class="Symbol">)</a> <a id="3031" href="V2.UntypedInterpreter.html#3031" class="Bound">ρ</a> <a id="3033" class="Symbol">=</a> <a id="3035" href="Function.html#3662" class="Function Operator">case</a> <a id="3040" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="3045" href="V2.UntypedInterpreter.html#3031" class="Bound">ρ</a> <a id="3047" href="V2.UntypedInterpreter.html#3028" class="Bound">e</a> <a id="3049" href="Function.html#3662" class="Function Operator">of</a> <a id="3052" class="Symbol">λ</a> <a id="3054" class="Keyword">where</a>
      <a id="3066" class="Symbol">(</a><a id="3067" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="3072" href="V2.UntypedInterpreter.html#3072" class="Bound">v</a><a id="3073" class="Symbol">)</a> <a id="3075" class="Symbol">→</a> <a id="3077" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="3082" class="Symbol">(</a><a id="3083" href="V2.UntypedInterpreter.html#819" class="Function">updateEnv</a> <a id="3093" href="V2.UntypedInterpreter.html#3026" class="Bound">x</a> <a id="3095" href="V2.UntypedInterpreter.html#3072" class="Bound">v</a> <a id="3097" href="V2.UntypedInterpreter.html#3031" class="Bound">ρ</a><a id="3098" class="Symbol">)</a>
      <a id="3106" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>  <a id="3115" class="Symbol">→</a> <a id="3117" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>

    <a id="3130" href="V2.UntypedInterpreter.html#2960" class="Function">execStm</a> <a id="3138" class="Number">0</a>          <a id="3149" class="Symbol">(</a><a id="3150" href="V2.AST.html#1220" class="InductiveConstructor">sWhile</a> <a id="3157" href="V2.UntypedInterpreter.html#3157" class="Bound">e</a> <a id="3159" href="V2.UntypedInterpreter.html#3159" class="Bound">ss</a><a id="3161" class="Symbol">)</a> <a id="3163" href="V2.UntypedInterpreter.html#3163" class="Bound">ρ</a> <a id="3165" class="Symbol">=</a> <a id="3167" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>
    <a id="3179" href="V2.UntypedInterpreter.html#2960" class="Function">execStm</a> <a id="3187" class="Symbol">(</a><a id="3188" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="3192" href="V2.UntypedInterpreter.html#3192" class="Bound">fuel</a><a id="3196" class="Symbol">)</a> <a id="3198" class="Symbol">(</a><a id="3199" href="V2.AST.html#1220" class="InductiveConstructor">sWhile</a> <a id="3206" href="V2.UntypedInterpreter.html#3206" class="Bound">e</a> <a id="3208" href="V2.UntypedInterpreter.html#3208" class="Bound">ss</a><a id="3210" class="Symbol">)</a> <a id="3212" href="V2.UntypedInterpreter.html#3212" class="Bound">ρ</a> <a id="3214" class="Symbol">=</a> <a id="3216" href="Function.html#3662" class="Function Operator">case</a> <a id="3221" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="3226" href="V2.UntypedInterpreter.html#3212" class="Bound">ρ</a> <a id="3228" href="V2.UntypedInterpreter.html#3206" class="Bound">e</a> <a id="3230" href="Function.html#3662" class="Function Operator">of</a> <a id="3233" class="Symbol">λ</a> <a id="3235" class="Keyword">where</a>
      <a id="3247" class="Symbol">(</a><a id="3248" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="3253" class="Symbol">(</a><a id="3254" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="3260" href="V2.AST.html#496" class="InductiveConstructor">true</a><a id="3264" class="Symbol">))</a> <a id="3267" class="Symbol">→</a> <a id="3269" href="Function.html#3662" class="Function Operator">case</a> <a id="3274" href="V2.UntypedInterpreter.html#3546" class="Function">execStms</a> <a id="3283" href="V2.UntypedInterpreter.html#3192" class="Bound">fuel</a> <a id="3288" href="V2.UntypedInterpreter.html#3208" class="Bound">ss</a> <a id="3291" href="V2.UntypedInterpreter.html#3212" class="Bound">ρ</a> <a id="3293" href="Function.html#3662" class="Function Operator">of</a> <a id="3296" class="Symbol">λ</a> <a id="3298" class="Keyword">where</a>
        <a id="3312" class="Symbol">(</a><a id="3313" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="3318" href="V2.UntypedInterpreter.html#3318" class="Bound">ρ&#39;</a><a id="3320" class="Symbol">)</a> <a id="3322" class="Symbol">→</a> <a id="3324" href="V2.UntypedInterpreter.html#2960" class="Function">execStm</a> <a id="3332" href="V2.UntypedInterpreter.html#3192" class="Bound">fuel</a> <a id="3337" class="Symbol">(</a><a id="3338" href="V2.AST.html#1220" class="InductiveConstructor">sWhile</a> <a id="3345" href="V2.UntypedInterpreter.html#3206" class="Bound">e</a> <a id="3347" href="V2.UntypedInterpreter.html#3208" class="Bound">ss</a><a id="3349" class="Symbol">)</a> <a id="3351" href="V2.UntypedInterpreter.html#3318" class="Bound">ρ&#39;</a>
        <a id="3362" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>   <a id="3372" class="Symbol">→</a> <a id="3374" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>
      <a id="3388" class="Symbol">(</a><a id="3389" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="3394" class="Symbol">(</a><a id="3395" href="V2.UntypedInterpreter.html#342" class="InductiveConstructor">boolV</a> <a id="3401" href="V2.AST.html#501" class="InductiveConstructor">false</a><a id="3406" class="Symbol">))</a> <a id="3409" class="Symbol">→</a> <a id="3411" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="3416" href="V2.UntypedInterpreter.html#3212" class="Bound">ρ</a>
      <a id="3424" class="CatchallClause Symbol">_</a>                    <a id="3445" class="Symbol">→</a> <a id="3447" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>

    <a id="3460" class="Comment">-- Execution of a statement sequence, passes the fuel</a>
    <a id="3518" class="Comment">-- to every statement.</a>

    <a id="ExecStm.execStms"></a><a id="3546" href="V2.UntypedInterpreter.html#3546" class="Function">execStms</a> <a id="3555" class="Symbol">:</a> <a id="3557" class="Symbol">(</a><a id="3558" href="V2.UntypedInterpreter.html#3558" class="Bound">fuel</a> <a id="3563" class="Symbol">:</a> <a id="3565" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="3566" class="Symbol">)</a> <a id="3568" class="Symbol">→</a> <a id="3570" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="3575" href="V2.AST.html#1154" class="Datatype">Stm</a> <a id="3579" class="Symbol">→</a> <a id="3581" href="V2.UntypedInterpreter.html#525" class="Function">Env</a> <a id="3585" class="Symbol">→</a> <a id="3587" href="Data.Maybe.Base.html#795" class="Datatype">Maybe</a> <a id="3593" href="V2.UntypedInterpreter.html#525" class="Function">Env</a>
    <a id="3601" href="V2.UntypedInterpreter.html#3546" class="Function">execStms</a> <a id="3610" class="Symbol">_</a>    <a id="3615" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>       <a id="3624" href="V2.UntypedInterpreter.html#3624" class="Bound">ρ</a> <a id="3626" class="Symbol">=</a> <a id="3628" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="3633" href="V2.UntypedInterpreter.html#3624" class="Bound">ρ</a>
    <a id="3639" href="V2.UntypedInterpreter.html#3546" class="Function">execStms</a> <a id="3648" href="V2.UntypedInterpreter.html#3648" class="Bound">fuel</a> <a id="3653" class="Symbol">(</a><a id="3654" href="V2.UntypedInterpreter.html#3654" class="Bound">s</a> <a id="3656" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="3658" href="V2.UntypedInterpreter.html#3658" class="Bound">ss</a><a id="3660" class="Symbol">)</a> <a id="3662" href="V2.UntypedInterpreter.html#3662" class="Bound">ρ</a> <a id="3664" class="Symbol">=</a> <a id="3666" href="Function.html#3662" class="Function Operator">case</a> <a id="3671" href="V2.UntypedInterpreter.html#2960" class="Function">execStm</a> <a id="3679" href="V2.UntypedInterpreter.html#3648" class="Bound">fuel</a> <a id="3684" href="V2.UntypedInterpreter.html#3654" class="Bound">s</a> <a id="3686" href="V2.UntypedInterpreter.html#3662" class="Bound">ρ</a> <a id="3688" href="Function.html#3662" class="Function Operator">of</a> <a id="3691" class="Symbol">λ</a> <a id="3693" class="Keyword">where</a>
      <a id="3705" class="Symbol">(</a><a id="3706" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="3711" href="V2.UntypedInterpreter.html#3711" class="Bound">ρ&#39;</a><a id="3713" class="Symbol">)</a> <a id="3715" class="Symbol">→</a> <a id="3717" href="V2.UntypedInterpreter.html#3546" class="Function">execStms</a> <a id="3726" href="V2.UntypedInterpreter.html#3648" class="Bound">fuel</a> <a id="3731" href="V2.UntypedInterpreter.html#3658" class="Bound">ss</a> <a id="3734" href="V2.UntypedInterpreter.html#3711" class="Bound">ρ&#39;</a>
      <a id="3743" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>   <a id="3753" class="Symbol">→</a> <a id="3755" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>

  <a id="3766" class="Comment">-- We evaluate a program by first executing the declarations,</a>
  <a id="3830" class="Comment">-- then the statements, and finally evaluating the main expression.</a>

  <a id="ExecStm.evalPrg"></a><a id="3901" href="V2.UntypedInterpreter.html#3901" class="Function">evalPrg</a> <a id="3909" class="Symbol">:</a> <a id="3911" class="Symbol">(</a><a id="3912" href="V2.UntypedInterpreter.html#3912" class="Bound">fuel</a> <a id="3917" class="Symbol">:</a> <a id="3919" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="3920" class="Symbol">)</a> <a id="3922" class="Symbol">→</a> <a id="3924" href="V2.AST.html#1334" class="Record">Program</a> <a id="3932" class="Symbol">→</a> <a id="3934" href="Data.Maybe.Base.html#795" class="Datatype">Maybe</a> <a id="3940" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a>
  <a id="3944" href="V2.UntypedInterpreter.html#3901" class="Function">evalPrg</a> <a id="3952" href="V2.UntypedInterpreter.html#3952" class="Bound">fuel</a> <a id="3957" class="Symbol">(</a><a id="3958" href="V2.AST.html#1368" class="InductiveConstructor">program</a> <a id="3966" href="V2.UntypedInterpreter.html#3966" class="Bound">ds</a> <a id="3969" href="V2.UntypedInterpreter.html#3969" class="Bound">ss</a> <a id="3972" href="V2.UntypedInterpreter.html#3972" class="Bound">e</a><a id="3973" class="Symbol">)</a> <a id="3975" class="Symbol">=</a> <a id="3977" href="Function.html#3662" class="Function Operator">case</a> <a id="3982" href="V2.UntypedInterpreter.html#2495" class="Function">execDecls</a> <a id="3992" href="V2.UntypedInterpreter.html#3966" class="Bound">ds</a> <a id="3995" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a> <a id="3998" href="Function.html#3662" class="Function Operator">of</a> <a id="4001" class="Symbol">λ</a> <a id="4003" class="Keyword">where</a>
    <a id="4013" class="Symbol">(</a><a id="4014" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="4019" href="V2.UntypedInterpreter.html#4019" class="Bound">ρ₀</a><a id="4021" class="Symbol">)</a> <a id="4023" class="Symbol">→</a> <a id="4025" href="Function.html#3662" class="Function Operator">case</a> <a id="4030" href="V2.UntypedInterpreter.html#3546" class="Function">execStms</a> <a id="4039" href="V2.UntypedInterpreter.html#3952" class="Bound">fuel</a> <a id="4044" href="V2.UntypedInterpreter.html#3969" class="Bound">ss</a> <a id="4047" href="V2.UntypedInterpreter.html#4019" class="Bound">ρ₀</a> <a id="4050" href="Function.html#3662" class="Function Operator">of</a> <a id="4053" class="Symbol">λ</a> <a id="4055" class="Keyword">where</a>
      <a id="4067" class="Symbol">(</a><a id="4068" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="4073" href="V2.UntypedInterpreter.html#4073" class="Bound">ρ</a><a id="4074" class="Symbol">)</a> <a id="4076" class="Symbol">→</a> <a id="4078" href="Function.html#3662" class="Function Operator">case</a> <a id="4083" href="V2.UntypedInterpreter.html#1668" class="Function">eval</a> <a id="4088" href="V2.UntypedInterpreter.html#4073" class="Bound">ρ</a> <a id="4090" href="V2.UntypedInterpreter.html#3972" class="Bound">e</a> <a id="4092" href="Function.html#3662" class="Function Operator">of</a> <a id="4095" class="Symbol">λ</a> <a id="4097" class="Keyword">where</a>
        <a id="4111" class="Symbol">(</a><a id="4112" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="4117" class="Symbol">(</a><a id="4118" href="V2.UntypedInterpreter.html#318" class="InductiveConstructor">intV</a> <a id="4123" href="V2.UntypedInterpreter.html#4123" class="Bound">v</a><a id="4124" class="Symbol">))</a> <a id="4127" class="Symbol">→</a> <a id="4129" href="Data.Maybe.Base.html#829" class="InductiveConstructor">just</a> <a id="4134" href="V2.UntypedInterpreter.html#4123" class="Bound">v</a>
        <a id="4144" class="CatchallClause Symbol">_</a>               <a id="4160" class="Symbol">→</a> <a id="4162" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>
      <a id="4176" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>  <a id="4185" class="Symbol">→</a> <a id="4187" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>
    <a id="4199" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>   <a id="4209" class="Symbol">→</a> <a id="4211" href="Data.Maybe.Base.html#859" class="InductiveConstructor">nothing</a>
</pre></body></html>
