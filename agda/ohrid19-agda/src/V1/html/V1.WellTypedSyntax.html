<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>V1.WellTypedSyntax</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- Intrinsically well-typed WHILE syntax.</a>

<a id="44" class="Keyword">module</a> <a id="51" href="V1.WellTypedSyntax.html" class="Module">V1.WellTypedSyntax</a> <a id="70" class="Keyword">where</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Library.html" class="Module">Library</a>
<a id="97" class="Keyword">open</a> <a id="102" class="Keyword">import</a> <a id="109" href="V1.AST.html" class="Module">V1.AST</a> <a id="116" class="Keyword">public</a> <a id="123" class="Keyword">using</a> <a id="129" class="Symbol">(</a><a id="130" href="V1.AST.html#282" class="Datatype">Type</a><a id="134" class="Symbol">;</a> <a id="136" href="V1.AST.html#301" class="InductiveConstructor">bool</a><a id="140" class="Symbol">;</a> <a id="142" href="V1.AST.html#306" class="InductiveConstructor">int</a><a id="145" class="Symbol">;</a> <a id="147" href="V1.AST.html#384" class="Datatype">Boolean</a><a id="154" class="Symbol">;</a> <a id="156" href="V1.AST.html#406" class="InductiveConstructor">true</a><a id="160" class="Symbol">;</a> <a id="162" href="V1.AST.html#411" class="InductiveConstructor">false</a><a id="167" class="Symbol">;</a> <a id="169" href="V1.AST.html#1550" class="Function">PrintBoolean</a><a id="181" class="Symbol">)</a>

<a id="184" class="Comment">-- Binary Operators.</a>

<a id="206" class="Keyword">data</a> <a id="Op"></a><a id="211" href="V1.WellTypedSyntax.html#211" class="Datatype">Op</a> <a id="214" class="Symbol">:</a> <a id="216" class="Symbol">(</a><a id="217" href="V1.WellTypedSyntax.html#217" class="Bound">dom</a> <a id="221" href="V1.WellTypedSyntax.html#221" class="Bound">codom</a> <a id="227" class="Symbol">:</a> <a id="229" href="V1.AST.html#282" class="Datatype">Type</a><a id="233" class="Symbol">)</a> <a id="235" class="Symbol">→</a> <a id="237" class="PrimitiveType">Set</a> <a id="241" class="Keyword">where</a>
  <a id="Op.plus"></a><a id="249" href="V1.WellTypedSyntax.html#249" class="InductiveConstructor">plus</a>  <a id="255" class="Symbol">:</a> <a id="257" href="V1.WellTypedSyntax.html#211" class="Datatype">Op</a> <a id="260" href="V1.AST.html#306" class="InductiveConstructor">int</a>  <a id="265" href="V1.AST.html#306" class="InductiveConstructor">int</a>
  <a id="Op.gt"></a><a id="271" href="V1.WellTypedSyntax.html#271" class="InductiveConstructor">gt</a>    <a id="277" class="Symbol">:</a> <a id="279" href="V1.WellTypedSyntax.html#211" class="Datatype">Op</a> <a id="282" href="V1.AST.html#306" class="InductiveConstructor">int</a>  <a id="287" href="V1.AST.html#301" class="InductiveConstructor">bool</a>
  <a id="Op.and"></a><a id="294" href="V1.WellTypedSyntax.html#294" class="InductiveConstructor">and</a>   <a id="300" class="Symbol">:</a> <a id="302" href="V1.WellTypedSyntax.html#211" class="Datatype">Op</a> <a id="305" href="V1.AST.html#301" class="InductiveConstructor">bool</a> <a id="310" href="V1.AST.html#301" class="InductiveConstructor">bool</a>

<a id="316" class="Comment">-- Well-typed expressions: context is fixed.</a>

<a id="362" class="Keyword">data</a> <a id="Exp"></a><a id="367" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="371" class="Symbol">:</a> <a id="373" href="V1.AST.html#282" class="Datatype">Type</a> <a id="378" class="Symbol">→</a> <a id="380" class="PrimitiveType">Set</a> <a id="384" class="Keyword">where</a>
  <a id="392" class="Comment">-- Literals:</a>
  <a id="Exp.eInt"></a><a id="407" href="V1.WellTypedSyntax.html#407" class="InductiveConstructor">eInt</a>  <a id="413" class="Symbol">:</a> <a id="415" class="Symbol">(</a><a id="416" href="V1.WellTypedSyntax.html#416" class="Bound">i</a> <a id="418" class="Symbol">:</a> <a id="420" href="Agda.Builtin.Int.html#219" class="Datatype">ℤ</a><a id="421" class="Symbol">)</a>                               <a id="453" class="Symbol">→</a> <a id="455" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="459" href="V1.AST.html#306" class="InductiveConstructor">int</a>
  <a id="Exp.eBool"></a><a id="465" href="V1.WellTypedSyntax.html#465" class="InductiveConstructor">eBool</a> <a id="471" class="Symbol">:</a> <a id="473" class="Symbol">(</a><a id="474" href="V1.WellTypedSyntax.html#474" class="Bound">b</a> <a id="476" class="Symbol">:</a> <a id="478" href="V1.AST.html#384" class="Datatype">Boolean</a><a id="485" class="Symbol">)</a>                         <a id="511" class="Symbol">→</a> <a id="513" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="517" href="V1.AST.html#301" class="InductiveConstructor">bool</a>
  <a id="524" class="Comment">-- Operators:</a>
  <a id="Exp.eOp"></a><a id="540" href="V1.WellTypedSyntax.html#540" class="InductiveConstructor">eOp</a>   <a id="546" class="Symbol">:</a> <a id="548" class="Symbol">∀{</a><a id="550" href="V1.WellTypedSyntax.html#550" class="Bound">t</a> <a id="552" href="V1.WellTypedSyntax.html#552" class="Bound">t&#39;</a><a id="554" class="Symbol">}</a> <a id="556" class="Symbol">(</a><a id="557" href="V1.WellTypedSyntax.html#557" class="Bound">op</a> <a id="560" class="Symbol">:</a> <a id="562" href="V1.WellTypedSyntax.html#211" class="Datatype">Op</a> <a id="565" href="V1.WellTypedSyntax.html#550" class="Bound">t</a> <a id="567" href="V1.WellTypedSyntax.html#552" class="Bound">t&#39;</a><a id="569" class="Symbol">)</a> <a id="571" class="Symbol">(</a><a id="572" href="V1.WellTypedSyntax.html#572" class="Bound">e</a> <a id="574" href="V1.WellTypedSyntax.html#574" class="Bound">e&#39;</a> <a id="577" class="Symbol">:</a> <a id="579" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="583" href="V1.WellTypedSyntax.html#550" class="Bound">t</a><a id="584" class="Symbol">)</a> <a id="586" class="Symbol">→</a> <a id="588" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="592" href="V1.WellTypedSyntax.html#552" class="Bound">t&#39;</a>
  <a id="597" class="Comment">-- Conditionals:</a>
  <a id="Exp.eCond"></a><a id="616" href="V1.WellTypedSyntax.html#616" class="InductiveConstructor">eCond</a> <a id="622" class="Symbol">:</a> <a id="624" class="Symbol">∀{</a><a id="626" href="V1.WellTypedSyntax.html#626" class="Bound">t</a><a id="627" class="Symbol">}</a> <a id="629" class="Symbol">(</a><a id="630" href="V1.WellTypedSyntax.html#630" class="Bound">e</a> <a id="632" class="Symbol">:</a> <a id="634" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="638" href="V1.AST.html#301" class="InductiveConstructor">bool</a><a id="642" class="Symbol">)</a> <a id="644" class="Symbol">(</a><a id="645" href="V1.WellTypedSyntax.html#645" class="Bound">e&#39;</a> <a id="648" href="V1.WellTypedSyntax.html#648" class="Bound">e&#39;&#39;</a> <a id="652" class="Symbol">:</a> <a id="654" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="658" href="V1.WellTypedSyntax.html#626" class="Bound">t</a><a id="659" class="Symbol">)</a>  <a id="662" class="Symbol">→</a> <a id="664" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="668" href="V1.WellTypedSyntax.html#626" class="Bound">t</a>

<a id="671" class="Comment">-- For now, a program is just a final expression.</a>

<a id="722" class="Keyword">record</a> <a id="Program"></a><a id="729" href="V1.WellTypedSyntax.html#729" class="Record">Program</a> <a id="737" class="Symbol">:</a> <a id="739" class="PrimitiveType">Set</a> <a id="743" class="Keyword">where</a>
  <a id="751" class="Keyword">constructor</a> <a id="Program.program"></a><a id="763" href="V1.WellTypedSyntax.html#763" class="InductiveConstructor">program</a>
  <a id="773" class="Keyword">field</a>
    <a id="Program.theMain"></a><a id="783" href="V1.WellTypedSyntax.html#783" class="Field">theMain</a>  <a id="792" class="Symbol">:</a> <a id="794" href="V1.WellTypedSyntax.html#367" class="Datatype">Exp</a> <a id="798" href="V1.AST.html#306" class="InductiveConstructor">int</a>

<a id="803" class="Keyword">open</a> <a id="808" href="V1.WellTypedSyntax.html#729" class="Module">Program</a> <a id="816" class="Keyword">public</a>


<a id="825" class="Comment">-- -}</a>
</pre></body></html>